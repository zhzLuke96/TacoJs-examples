<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.3.0/webcomponents-loader.js"></script>
    <script src="https://unpkg.com/@tacopie/taco"></script>
    <style>
        body {
            margin: 0 auto;
            padding: 1rem;
            max-width: 640px;
        }
    </style>
</head>

<body>
    <script>
        const $ = q => document.querySelector(q);
        const {
            reactive,
            computed,
            difineDirective,
            Store,
            ViewModel,
            h,
            createApp
        } = Taco;
    </script>
    <h1>if else elif statement</h1>
    <div id="appRoot"></div>
    <script id="appTpl" type="text/x-template">
        count：<span>{{ count }}</span>
        <button :click="succ"> +1 </button>
        <br>
        <if :="count%3==0">
            <span>是 3 的倍数</span>
        </if>
        <elif :="count%5==0">
            <span>是 5 的倍数 </span>
        </elif>
        <else>
            <span>既不是 3 的倍数也不是 5 的倍数</span>
        </else>
    </script>
    <script>
        class app {
            setup() {
                return reactive({
                    count: 1
                })
            }
            template() {
                return h($("#appTpl").innerHTML)
            }
            succ() {
                this.count++
            }
            created() {
                setInterval(() => {
                    this.count++
                }, 1000);
            }
        }
        createApp(new app()).mount(appRoot)
        void(0);
    </script>
    <h1>for loop statement</h1>
    <div id="forAppRoot"></div>
    <script id="forAppTpl" type="text/x-template">
        <style>
            .card{
                padding: 1rem;
                margin: 1rem;
                border-radius: 1rem;
                display: inline-block;
                box-shadow: -2px 4px 20px 0px #333;
                max-width: 30%
            }
            .badge{
                text-align: center;
                font-size: 1rem;
                font-weight: bolder;
            }
        </style>
        <for :="user,i of users">
            <div class="card">
                <div class="badge">{{i}}</div>
                <br>
                eyeColor: <span style:="'color:' + user.eyeColor">{{ user.eyeColor }}</span>
                <br>
                name: <span>{{ user.name.first }} - {{ user.name.last }}</span>
                <br>
                age: <span>{{ user.age }}</span>
                <br>
                balance: <span>{{ user.balance }}</span>
                <br>
                phone: <span>{{ user.phone }}</span>
                <br>
                address: <span>{{ user.address }}</span>
            </div>
        </for>
    </script>
    <script>
        const userData = [{
                "_id": "5dbddd28d9d4f3c6a6129deb",
                "guid": "acc38169-6e22-48e9-9de8-e7973840d21c",
                "balance": "$1,939.67",
                "age": 26,
                "eyeColor": "brown",
                "name": {
                    "first": "Manuela",
                    "last": "Massey"
                },
                "email": "manuela.massey@undefined.com",
                "phone": "+1 (889) 564-2729",
                "address": "219 Prescott Place, Witmer, Mississippi, 9076"
            },
            {
                "_id": "5dbddd288b639c951d5154d4",
                "guid": "8666ddeb-dd6c-4295-8b6d-277e8ea66c5c",
                "balance": "$1,264.56",
                "age": 32,
                "eyeColor": "brown",
                "name": {
                    "first": "Mildred",
                    "last": "Cabrera"
                },
                "email": "mildred.cabrera@undefined.info",
                "phone": "+1 (967) 596-2364",
                "address": "519 Seaview Court, Rodanthe, Oregon, 2331"
            },
            {
                "_id": "5dbddd2871c45aa58dd23980",
                "guid": "c31fd361-131c-432a-8462-25df5fdbe449",
                "balance": "$2,074.07",
                "age": 30,
                "eyeColor": "green",
                "name": {
                    "first": "Pitts",
                    "last": "Patrick"
                },
                "email": "pitts.patrick@undefined.tv",
                "phone": "+1 (863) 485-3403",
                "address": "166 Bassett Avenue, Dunbar, Utah, 7181"
            },
            {
                "_id": "5dbddd289d7f03658c394318",
                "guid": "cee6f659-a775-41f7-9fb1-cd6c73298e04",
                "balance": "$3,665.99",
                "age": 22,
                "eyeColor": "blue",
                "name": {
                    "first": "Bradley",
                    "last": "Washington"
                },
                "email": "bradley.washington@undefined.us",
                "phone": "+1 (863) 598-3841",
                "address": "287 Duryea Court, Newcastle, North Dakota, 5046"
            },
            {
                "_id": "5dbddd28eb4473288f6804f3",
                "guid": "313e5d0e-1f31-459a-ac2f-5b8057f0536b",
                "balance": "$3,773.75",
                "age": 22,
                "eyeColor": "blue",
                "name": {
                    "first": "Janine",
                    "last": "Dillon"
                },
                "email": "janine.dillon@undefined.biz",
                "phone": "+1 (902) 431-3631",
                "address": "512 Richards Street, Vallonia, Puerto Rico, 2750"
            },
            {
                "_id": "5dbddd282e9f4b668cafabbd",
                "guid": "585db999-46bc-44ed-82ca-e3975a56a3d5",
                "balance": "$2,735.40",
                "age": 26,
                "eyeColor": "blue",
                "name": {
                    "first": "Stephanie",
                    "last": "Daniel"
                },
                "email": "stephanie.daniel@undefined.ca",
                "phone": "+1 (845) 543-3846",
                "address": "930 Stockton Street, Whitmer, Vermont, 2396"
            },
            {
                "_id": "5dbddd284386143d6001a8e9",
                "guid": "e31247a1-be47-4dcc-b8f3-f52a4d09e183",
                "balance": "$2,526.75",
                "age": 35,
                "eyeColor": "green",
                "name": {
                    "first": "Steele",
                    "last": "Kirby"
                },
                "email": "steele.kirby@undefined.io",
                "phone": "+1 (963) 521-3471",
                "address": "707 Will Place, Derwood, Pennsylvania, 8851"
            }
        ]

        function UserInfoApi() {
            return new Promise(r => {
                setTimeout(() => {
                    r(userData)
                }, 1000 + Math.random() * 1000);
            })
        }
        class forApp {
            setup() {
                return reactive({
                    users: []
                })
            }
            template() {
                return h($("#forAppTpl").innerHTML)
            }
            async created() {
                const udata = await UserInfoApi()
                this.users = udata
                console.log(this)
            }
        }
        createApp(new forApp()).mount(forAppRoot)
        void(0);
    </script>
</body>

</html>